\documentclass{report}
\input{header.tex}
\renewcommand\s{\sigma}
\newcommand{\setto}{:=}
\newcommand{\fv}[1]{\texttt{fv}(#1)}
\newcommand{\sub}[1]{\left\[#1\right\]}

\begin{document}
    \section{Introduce Substitutions}
    \subsection{Substitutions as SNOC lists}
    \paragraph{Definition of $\s$}
    \subsection{Trivial Properties of substitutions}
    \paragraph{$\fv{\s}$}
    \paragraph{$\dom{\s}$}
    \paragraph{$x \# \s$}

    \subsection{Effect of substitutions}]
    \subsection{Well Formedness}
    \subsection{Simple Properties Of Substitution}
    If $\typerelation{\G'}{\s}{\G}$ then:
    \todo{Number these}
    \begin{itemize}
        \item $\ok{\G}$ and $\ok{\G'}$
        \item $\wrel{\w}{\G''}{\G'}$ implies $\typerelation{\G''}{\s}{\G}$
 %       \item $\x \notin (\dom{\G} \union \dom{\G''})$ implies $\typerelation{(\G', x: A)}{(\s, x \setto x)}{(\gax)}$
    \end{itemize}

    \section{Substitution Preserves Typing}
    \todo{State property}
    \todo{Proof by induction overtype relation}
    \section{Semantics of Substitution}
    \subsection{Denotation of Substitutions}
    \todo{Fill in from p98}
    \subsection{Lemma}
    \todo{Fill in from p98}
    \subsection{Substitution Theorem}
    If $\gtyperelation{t}{\tau}$ and $\typerelation{\G'}{\s}{\G}$ then
    \begin{tikzcd}
        \G' 
            \arrow [r, "\deno{\typerelation{\G'}{\s}{\G}}"] 
            \arrow [rd, "\deno{\typerelation{\G'}{t\sub{\s}}{\tau}} "] &
        \G 
            \arrow [d, "\deno{\gtyperelation{t}{\tau}}"]
        \\
        & \deno{T}
    \end{tikzcd}
    \section{Single Substitution}
\end{document}